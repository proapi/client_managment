<%= form_for(@bill) do |f| %>
    <% if @bill.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@bill.errors.count, "error") %> prohibited this bill from being saved:</h2>

          <ul>
            <% @bill.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
            <% end %>
          </ul>
        </div>
    <% end %>

    <div class="table">
      <table class="listing form" cellpadding="0" cellspacing="0">
        <tr>
          <th class="full" colspan="2">Formularz nowego rachunku</th>
        </tr>
        <tr>
          <td><strong><%= f.label :number, "Numer rachunku" %></strong></td>
          <td>
            <%= f.text_field :number %>
          </td>
        </tr>
        <tr>
          <td><strong><%= f.label :clearing_id, "Rozliczenie powiązane z rachunkiem" %></strong></td>
          <td>
            <%= f.collection_select :clearing_id, Clearing.all, :id, :title %>
          </td>
        </tr>
        <tr>
          <td><strong><%= f.label :company_id, "Firma wystawiająca" %></strong></td>
          <td>
            <%= f.collection_select :company_id, Company.all_cached, :id, :name %>
          </td>
        </tr>
        <tr>
          <td><strong><%= f.label :issue_date, "Data wystawienia rachunku" %></strong></td>
          <td>
            <%= f.datepicker :issue_date, class: 'datepicker' %>
          </td>
        </tr>
        <tr>
          <td><strong><%= f.label :maturity_date, "Termin płatności" %></strong></td>
          <td>
            <%= f.datepicker :maturity_date, class: 'datepicker' %>
          </td>
        </tr>

        <tr>
          <td><strong><%= f.label :payment_form, "Forma płatności" %></strong></td>
          <td>
            <%= f.select :payment_form, options_for_select(%w(Gotówka Przelew Pobranie), @bill.payment_form) %>
          </td>
        </tr>
        <tr>
          <td><strong><%= f.label :title, "Tytuł usługi" %></strong></td>
          <td>
            <%= f.select :title, options_for_select(['Usługa inkasa', 'Usługa biurowa'], @bill.title) %>
          </td>
        </tr>
        <tr>
          <td><strong><%= f.label :units, "Jednostka miary" %></strong></td>
          <td>
            <%= f.text_field :units, value: @bill.units.blank? ? "szt." : @bill.units %>
          </td>
        </tr>
        <tr>
          <td><strong><%= f.label :total_manual, "Kwota końcowa wpisana ręcznie" %></strong></td>
          <td>
            <%= f.check_box :total_manual %>
          </td>
        </tr>
        <tr>
          <td><strong><%= f.label :total, "Kwota końcowa" %></strong></td>
          <td>
            <%= f.decimal_field :total %>
          </td>
        </tr>
        <tr>
          <td><strong><%= f.label :comment, "Dodatkowe informacje" %></strong></td>
          <td>
            <%= f.text_area :comment, :rows => 2 %>
          </td>
        </tr>
        <tr>
          <td class="full" colspan="2"><%= f.submit "Zapisz" %></td>
        </tr>
      </table>
    </div>
<% end %>